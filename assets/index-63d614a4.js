import{u as O,b as P,r as n,a as x,c as $,j as e,C as F,M as o,B as L,t as b,A as k,F as C,P as S}from"./index-4d0cd9b7.js";const I=t=>t.orderDetails.orders,A=t=>t.orderDetails.isLoading,E=({isTablet:t})=>{const c=O(),p=P(),[s,h]=n.useState(null),[u,j]=n.useState(null),r=x(I),i=x(A);return n.useEffect(()=>{s&&c($(s))},[c,s]),e.jsxs(e.Fragment,{children:[e.jsx(F,{children:e.jsxs("section",{className:`flex flex-col gap-sPlus 
          ${t?"max-h-[70vh] py-sPlus":"max-h-[400px] py-s"}
           message-container`,children:[e.jsx(o,{type:"text",text:"Для отримання деталей Ваших замовлень надайте будь-ласка номер телефону, на який були здійснені замовлення (у форматі 067...)",time:"hidden"}),s&&e.jsx(o,{owner:"Ви",type:"text",text:s}),i&&e.jsx(L,{height:16,width:32,radius:8,color:b.colors.bgGreyDark}),r&&r.length>0&&!i&&e.jsxs(e.Fragment,{children:[e.jsx(o,{type:"text",text:"Ваші замовлення:"}),e.jsx("div",{className:"flex flex-col gap-xs text-textPrimary text-body",children:r==null?void 0:r.map(d=>{const{_id:a,status:m,products:f,totalPrice:g}=d,l=a===u;return e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center justify-between w-full p-xs bg-bgBrandLight1 text-left",onClick:()=>j(l?null:a),children:[e.jsxs("div",{className:"flex flex-col gap-xs3",children:[e.jsx("p",{children:`№ замовлення: ${a.slice(18,24)}.`}),e.jsx("p",{children:`Статус: "${m}"`})]}),e.jsx("div",{className:`${l?"rotate-0":"rotate-180"}`,children:e.jsx(k,{colorFill:b.colors.iconBrand})})]}),l&&e.jsxs("div",{className:"fade-in flex flex-col items-start py-xs gap-xs2",children:[e.jsxs("table",{className:"w-full border-collapse font-500 text-caption",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-bgGreyLigth justify-center",children:[e.jsx("th",{className:"border-1 border-solid border-borderDefault p-xs2",children:"Найменування"}),e.jsx("th",{className:"border-1 border-solid border-borderDefault p-xs2",children:"Кількість"}),e.jsx("th",{className:"border-1 border-solid border-borderDefault p-xs2",children:"Ціна"})]})}),e.jsxs("tbody",{className:" font-400 text-[10px] text-textSecondary",children:[f.map((y,N)=>{const{name:D,quantity:v,units:w,price:B}=y;return e.jsxs("tr",{children:[e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3",style:{wordBreak:"break-word"},children:D}),e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3 text-center",children:`${v} ${w}`}),e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3 text-center",children:B})]},N)}),e.jsxs("tr",{className:"text-[12px] font-500",children:[e.jsx("td",{colSpan:"2",className:"border-1 border-solid border-borderDefault p-xs3 text-left",children:"Загальна сума:"}),e.jsx("td",{className:"border-1 border-solid border-borderDefault p-xs3 text-center",children:g})]})]})]}),e.jsxs("div",{className:"flex gap-xs px-xs justify-center items-center fade-in",children:[e.jsx("p",{className:"text-caption text-textBrand",children:"З'явилися запитання?"}),e.jsx("button",{className:"p-xs2 text-caption font-500 text-textBrand border-solid border-1 border-borderDefaultBlue bg-bgWhite hover:bg-bgHoverGrey focus:shadow-btFocus rounded-medium transition-colors duration-300 focus:outline-none whitespace-nowrap",onClick:()=>p("/chat"),children:"З'єднати з менеджером"})]})]})]},a)})})]}),r&&r.length===0&&s&&e.jsx(o,{type:"text",text:`За телефоном ${s} замовлень не знайдено. Спробуйте інший телефон`})]})}),e.jsx(C,{isActiveMenu:!0,isTablet:t,handleUserQuery:d=>h(d)})]})};E.propTypes={isTablet:S.bool.isRequired};export{E as default};
